!function(t){var e={};function n(r){if(e[r])return e[r].exports;var a=e[r]={i:r,l:!1,exports:{}};return t[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)n.d(r,a,function(e){return t[e]}.bind(null,a));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/",n(n.s=20)}({20:function(t,e,n){t.exports=n("cUfk")},cUfk:function(t,e,n){"use strict";function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var a,o,i,s,l,c,m,d=(l=$("#total_report_time"),c=$("#date_report_time_from"),m=$("#date_report_time_to"),{init:function(){var t;$("body").tooltip({selector:".tooltiped"}),(a=$("#device_report_datatable").KTDatatable({data:{type:"remote",source:{read:{url:device_report_json_url,headers:{"X-CSRF-TOKEN":$("meta[name=csrf-token]").attr("content")},map:function(t){var e=t;return void 0!==t.data&&(e=t.data),o=t.meta.total_hours,i=t.meta.date_from,s=t.meta.date_to,e}}},pageSize:5,serverPaging:!0,serverFiltering:!0,serverSorting:!0},layout:{scroll:!1,footer:!1},sortable:!0,pagination:!0,search:{input:$("#device_report_datatable_search_query"),key:"generalSearch"},columns:[{field:"id",title:"#",sortable:"asc",width:40,type:"number",selector:!1,textAlign:"center",visible:!1},{field:"name",title:Lang.get("script.name"),textAlign:"left",template:function(t){var e=Lang.get("script.not_set"),n="danger";void 0!==constants.performs[t.function]&&(e=constants.performs[t.function],n=constants.colors[t.function]);var r=t.records.sort((function(t,e){return new Date(t.time)-new Date(e.time)})),a=r.length>0?r[0].time:null;return'<div class="d-flex align-items-center">\n      \t\t\t\t\t<div class="symbol symbol-40 symbol-'.concat(n,' flex-shrink-0">\n      \t\t\t\t\t\t<div class="symbol-label">').concat(t.id,'</div>\n      \t\t\t\t\t</div>\n      \t\t\t\t\t<div class="ml-2">\n                            <a href="/').concat(Lang.locale,"/records/calendar/").concat(t.id,"?time=").concat(a,'">\n                                <div class="text-dark-75 font-weight-bold line-height-sm">').concat(t.name," ").concat(t.surname,'</div>\n                                <span class="font-size-sm text-dark-50 text-hover-primary">').concat(e,"</span>\n                            </a>\n      \t\t\t\t\t</div>\n      \t\t\t\t</div>")}},{field:"work_time",title:Lang.get("script.working_hours")},{field:"work_time_decimal",title:Lang.get("script.hours_in_decimal"),template:function(t){return t.work_time_decimal.toFixed(2)}},{field:"function",title:Lang.get("script.Function"),template:function(t){return void 0===constants.performs[t.function]?'<span class="label font-weight-bold label-lg label-light-danger label-inline">'+t.function+"</span>":'<span class="label font-weight-bold label-lg label-light-'+constants.colors[t.function]+' label-inline">'+constants.performs[t.function]+"</span>"}},{field:"Actions",title:Lang.get("script.Actions"),sortable:!1,width:125,autoHide:!1,overflow:"visible",template:function(t){var e=t.records.sort((function(t,e){return new Date(t.time)-new Date(e.time)})),n=e.length>0?e[0].time:null;return'\n                        <a href="/'.concat(Lang.locale,"/records/calendar/").concat(t.id,"?time=").concat(n,'" class="btn btn-sm btn-clean btn-icon mr-2" title="').concat(Lang.view_calendar,'">\n                            <span class="svg-icon svg-icon-md">\n                              <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="24px" height="24px" viewBox="0 0 24 24" version="1.1">\n                                <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n                                  <polygon points="0 0 24 0 24 24 0 24"></polygon>\n                                  <rect fill="#000000" opacity="0.3" transform="translate(12.000000, 12.000000) rotate(-90.000000) translate(-12.000000, -12.000000)" x="11" y="5" width="2" height="14" rx="1"></rect>\n                                  <path d="M9.70710318,15.7071045 C9.31657888,16.0976288 8.68341391,16.0976288 8.29288961,15.7071045 C7.90236532,15.3165802 7.90236532,14.6834152 8.29288961,14.2928909 L14.2928896,8.29289093 C14.6714686,7.914312 15.281055,7.90106637 15.675721,8.26284357 L21.675721,13.7628436 C22.08284,14.136036 22.1103429,14.7686034 21.7371505,15.1757223 C21.3639581,15.5828413 20.7313908,15.6103443 20.3242718,15.2371519 L15.0300721,10.3841355 L9.70710318,15.7071045 Z" fill="#000000" fill-rule="nonzero" transform="translate(14.999999, 11.999997) scale(1, -1) rotate(90.000000) translate(-14.999999, -11.999997)"></path>\n                                </g>\n                              </svg>\n                            </span>\n                        </a>\n                    ')}}],translate:TraceLocales.datatables()})).on("datatable-on-ajax-fail",(function(t,e){console.log("Error");var n="";for(var n in e.responseJSON.errors)e.responseJSON.errors.hasOwnProperty(n)&&(n+=e.responseJSON.errors[n]+"<br>");var r={};r.title=String(e.responseJSON.message),r.message=n,$.notify(r,{type:"danger",mouse_over:!0,z_index:1051})})),a.on("datatable-on-ajax-done",(function(t,e){l.html(o).removeClass("spinner"),c.html(i).removeClass("spinner"),m.html(s).removeClass("spinner")})),$("#recordsDaterangepicker").daterangepicker({buttonClasses:" btn",applyClass:"btn-primary",cancelClass:"btn-secondary",timePicker:!0,timePickerIncrement:30,locale:{format:"MM/DD/YYYY h:mm A"},ranges:(t={},r(t,Lang.get("script.today"),[moment(),moment()]),r(t,Lang.get("script.yesterday"),[moment().subtract(1,"days"),moment().subtract(1,"days")]),r(t,Lang.get("script.last7days"),[moment().subtract(6,"days"),moment()]),r(t,Lang.get("script.last30days"),[moment().subtract(29,"days"),moment()]),r(t,Lang.get("script.this_month"),[moment().startOf("month"),moment().endOf("month")]),r(t,Lang.get("script.last_month"),[moment().subtract(1,"month").startOf("month"),moment().subtract(1,"month").endOf("month")]),t)},(function(t,e,n){$("#kt_daterangepicker_4 .form-control").val(t.format("MM/DD/YYYY h:mm A")+" / "+e.format("MM/DD/YYYY h:mm A")),a.search({start:t.format("YYYY-MM-DD HH:mm:00"),end:e.format("YYYY-MM-DD HH:mm:00")},"Date")})).on("cancel.daterangepicker",(function(t,e){$(this).val(""),a.search({start:null,end:null},"Date")})),$("#clearRecordsDaterangepicker").click((function(){$("#recordsDaterangepicker").val(""),a.search({start:null,end:null},"Date")}))}});jQuery(document).ready((function(){d.init()}))}});